// Euler's Method 2.cpp : Defines the entry point for the console application.
// Developed by Charles Stirens for the purpose of calculated Euler Series for Assignment 6, questions 3i. Licensed to Creative Commons 0, utilize code as necessary.


#include "stdafx.h"
#include <iostream>
#include <fstream>
#include <cmath>
#include <math.h>
using namespace std;


int main()
{
	int y0 = 1; //found by graphing analytical solution
	float x = 0; //Our first x value (this will change through runtime)
	float h = 0.01; // Stepsize, very small in this program
	float euler; //Y value estimated at each step

	ofstream myfile;

	myfile.open("Euler2.csv"); // Creates or opens file
	myfile << "X,Y\n"; // starts columns for csv for excel

	euler = y0;		//set Euler to y0 so the algorithm makes sense at yn (n=0)
	for (int i = 0; i <= 400; i++) {
		euler = euler + (exp(-4 * x) - ( 2 * euler))*h; // Yn+1 = Yn + (e^(-4x) - 2Yn)h
		cout << "Y estimate = " << euler << " X = " << x << "\n"; //output to console
		x = x + h; //iterate x(n+1) = x + h
		myfile << x << "," << euler << "\n"; //output to file the values of X and Y(estimated).
	}
	myfile.close();
	system("pause");
	return 0;
}
